{"version":3,"sources":["../../../../components/ui/MarkdownRenderer.tsx","../../../../app/notes/%5Bcategory%5D/%5Bslug%5D/page.tsx"],"sourcesContent":["type MarkdownRendererProps = {\r\n  html: string;\r\n};\r\n\r\nexport function MarkdownRenderer({ html }: MarkdownRendererProps) {\r\n  return (\r\n    <article\r\n      className=\"prose prose-slate max-w-none prose-a:text-sky-600\"\r\n      dangerouslySetInnerHTML={{ __html: html }}\r\n    />\r\n  );\r\n}\r\n\r\n","import fs from 'fs';\r\nimport path from 'path';\r\nimport matter from 'gray-matter';\r\nimport { notFound } from 'next/navigation';\r\nimport { MarkdownRenderer } from '@/components/ui/MarkdownRenderer';\r\n\r\ntype Props = { params: Promise<{ category: string; slug: string }> };\r\n\r\nexport async function generateStaticParams() {\r\n  const notesRoot = path.join(process.cwd(), 'content/notes');\r\n  if (!fs.existsSync(notesRoot)) return [];\r\n\r\n  const categories = fs\r\n    .readdirSync(notesRoot, { withFileTypes: true })\r\n    .filter((d) => d.isDirectory())\r\n    .map((d) => d.name);\r\n\r\n  const all: { category: string; slug: string }[] = [];\r\n\r\n  for (const category of categories) {\r\n    const categoryDir = path.join(notesRoot, category);\r\n    const files = fs\r\n      .readdirSync(categoryDir)\r\n      .filter((f) => f.endsWith('.md'))\r\n      .map((file) => ({\r\n        category,\r\n        slug: file.replace(/\\.md$/, ''),\r\n      }));\r\n    all.push(...files);\r\n  }\r\n\r\n  return all;\r\n}\r\n\r\nexport default async function NoteDetailPage({ params }: Props) {\r\n  const { category, slug } = await params;\r\n\r\n  const filePath = path.join(\r\n    process.cwd(),\r\n    'content/notes',\r\n    category,\r\n    `${slug}.md`,\r\n  );\r\n\r\n  if (!fs.existsSync(filePath)) {\r\n    return notFound();\r\n  }\r\n\r\n  const raw = fs.readFileSync(filePath, 'utf-8');\r\n  const { data, content } = matter(raw);\r\n\r\n  return (\r\n    <section className=\"space-y-6\">\r\n      <header>\r\n        <h1 className=\"text-2xl font-bold\">{data.title ?? slug}</h1>\r\n        {data.date && (\r\n          <p className=\"mt-1 text-sm text-slate-500\">{data.date}</p>\r\n        )}\r\n      </header>\r\n      <MarkdownRenderer html={content} />\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"oPAIO,SAAS,EAAiB,MAAE,CAAI,CAAyB,EAC9D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CACC,UAAU,oDACV,wBAAyB,CAAE,OAAQ,CAAK,GAG9C,yECXA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAIO,eAAe,IACpB,IAAM,EAAY,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,iBAC3C,GAAI,CAAC,EAAA,OAAE,CAAC,UAAU,CAAC,GAAY,MAAO,EAAE,CAExC,IAAM,EAAa,EAAA,OAAE,CAClB,WAAW,CAAC,EAAW,CAAE,eAAe,CAAK,GAC7C,MAAM,CAAE,AAAD,GAAO,EAAE,WAAW,IAC3B,GAAG,CAAC,AAAC,GAAM,EAAE,IAAI,EAEd,EAA4C,EAAE,CAEpD,IAAK,IAAM,KAAY,EAAY,CACjC,IAAM,EAAc,EAAA,OAAI,CAAC,IAAI,CAAC,EAAW,GACnC,EAAQ,EAAA,OAAE,CACb,WAAW,CAAC,GACZ,MAAM,CAAE,AAAD,GAAO,EAAE,QAAQ,CAAC,QACzB,GAAG,CAAC,AAAC,IAAU,GAAD,OACb,EACA,KAAM,EAAK,OAAO,CAAC,QAAS,IAC9B,CAAC,EACH,EAAI,IAAI,IAAI,EACd,CAEA,OAAO,CACT,CAEe,eAAe,EAAe,CAAE,QAAM,CAAS,EAC5D,GAAM,UAAE,CAAQ,MAAE,CAAI,CAAE,CAAG,MAAM,EAE3B,EAAW,EAAA,OAAI,CAAC,IAAI,CACxB,QAAQ,GAAG,GACX,gBACA,EACA,CAAA,EAAG,EAAK,GAAG,CAAC,EAGd,GAAI,CAAC,EAAA,OAAE,CAAC,UAAU,CAAC,GACjB,MAAO,CAAA,CADqB,CACrB,EAAA,QAAA,AAAQ,IAGjB,IAAM,EAAM,EAAA,OAAE,CAAC,YAAY,CAAC,EAAU,SAChC,MAAE,CAAI,SAAE,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAM,EAAC,GAEjC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,sBACjB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAsB,EAAK,KAAK,EAAI,IACjD,EAAK,IAAI,EACR,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAK,IAAI,MAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,KAAM,MAG9B"}